{% extends "museum_site/base.html" %}

{% load museum_site_extras %}

{% block content %}
    {% load static %}

    {% include 'museum_site/information_sheet.html' %}

    {% include 'museum_site/demographic_form.html' %}

    <div class="search-bar" style="position: relative; top: -3px;">
        <form style="text-align: center; top: 0; padding: 0 10% 0 10%"  method="get">
            <input class="form-control mr-sm-2" style="display: inline-block; width: 80%;" type="search" placeholder="Search gallery" aria-label="Search" name="search">
            <button class="btn btn-outline-secondary my-2 my-sm-0" style="display: inline-block; color: #ffffff; background-color: #724629"
                    type="submit"
                    onclick = "return interaction_event('search', '', '{{ page_id }}', '{{ csrf_token }}');">Search</button>
            <button class="btn btn-outline-secondary my-2 my-sm-0" style="display: inline-block; color: #ffffff; background-color: #724629; margin-left: 5px;"
                    type="submit"
                    onclick = "return interaction_event('clear', '', '{{ page_id }}', '{{ csrf_token }}');">Clear</button>
        </form>
    </div>

    <div style="text-align: center; padding: 20px;">
        <span class="text-title">List of artworks</span>
    </div>

    {% include 'museum_site/paging.html' %}

    <hr class="separator" />

    <div class = 'container my-4'>
        <div id = 'multi-item-example' class = 'carousel slide carousel-multi-item' data-ride = 'carousel'>
            <div class = 'carousel-inner' role = 'listbox'>
                <div class='row'>
                    {% for art in page_obj %}
                        <div class = 'col-md-2' style="padding-top: 20px; padding-bottom: 20px;">
                            <div class = 'card mb-2' id = 'artwork-card'>
                                <div class='artwork-img-style'>
                                    <a href = "{% url 'museum_site:artwork' art.art_id %}"
                                        onclick = "return interaction_event('click', '{{ art.art_id }}', '{{ page_id }}', '{{ csrf_token }}');">
                                        <img class = 'card-img-top' style="width: 150px; height: 180px; background-size: 300% 300%;" src = "{% static 'img/images/' %}{{ art.img_file }}"
                                            alt = '{{ art.title|cut:"'" }}' />
                                    </a>
                                </div>
                            </div>
                            <div><span class="text-description">{{ art.title|cut:"'" }}</span></div>
                            <div><hr class="full-separator tight"/></div>
                            {% for artist in art.artist %}
                                <div class="text-artist"><span class="text-description"><b>{{ artist }}</b></span></div>
                            {%  endfor %}
                        </div>
                    {% empty %}
                        <span style="margin-left: auto; margin-right: auto">No results match the search query</span>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>

    <hr class="separator"/>

    {% if page_obj.paginator.num_pages > 1 %}

        {% include 'museum_site/paging.html' %}

        <div class="search-bar-bottom">
            <form style="text-align: center; padding-left: 10%; padding-right: 10%;"  method="get">
                <input class="form-control mr-sm-2" style="display: inline-block; width: 80%;" type="search" placeholder="Search gallery" aria-label="Search" name="search">
                <button class="btn btn-outline-secondary my-2 my-sm-0" style="display: inline-block; color: #ffffff; background-color: #724629" type="submit" onclick = "return interaction_event('search', '', '{{ page_id }}', '{{ csrf_token }}');">Search</button>
                <button class="btn btn-outline-secondary my-2 my-sm-0" style="display: inline-block; color: #ffffff; background-color: #724629; margin-left: 5px;"
                        type="submit"
                        onclick = "return interaction_event('clear', '', '{{ page_id }}', '{{ csrf_token }}');">Clear</button>
            </form>
        </div>
    {% endif %}
{% endblock content %}
